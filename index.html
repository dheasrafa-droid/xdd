<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Demo Fan Battle Game</title>
<style>
  body { margin:0; overflow:hidden; background:#333; font-family:sans-serif; }
  #gameCanvas { display:block; margin:0 auto; background:#555; }
  .hud { position:absolute; top:10px; left:10px; color:white; font-weight:bold; font-size:18px; }
  .skills { position:absolute; bottom:10px; left:50%; transform:translateX(-50%); }
  .skills button { margin:5px; padding:10px 20px; font-size:16px; }
</style>
</head>
<body>

<div class="hud" id="hud">Player HP: 100 | Enemy HP: 80</div>
<div class="skills">
  <button onclick="normalAttack()">Attack</button>
  <button onclick="skill1()">Skill 1</button>
  <button onclick="skill2()">Skill 2</button>
</div>
<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

function resizeCanvas(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

// Dummy characters
let player = { x:100, y:canvas.height - 150, width:60, height:60, hp:100, color:'blue' };
let enemy = { x:canvas.width - 200, y:canvas.height - 150, width:60, height:60, hp:80, color:'red' };

let attackAnimations = [];

function drawChar(obj){
  ctx.fillStyle = obj.color;
  ctx.fillRect(obj.x, obj.y, obj.width, obj.height);
}

// Add attack effect
function addAttackEffect(x, y, color){
  attackAnimations.push({ x, y, size:20, color, life:20 });
}

function normalAttack(){
  // Deal damage
  enemy.hp -= 5;
  addAttackEffect(enemy.x, enemy.y + enemy.height/4, 'yellow');
  updateHUD();
}

function skill1(){
  // Stronger attack
  enemy.hp -= 15;
  addAttackEffect(enemy.x, enemy.y + enemy.height/4, 'orange');
  updateHUD();
}

function skill2(){
  // Multi-hit effect
  for(let i=0;i<3;i++){
    enemy.hp -= 5;
    addAttackEffect(enemy.x + i*10, enemy.y + enemy.height/4, 'purple');
  }
  updateHUD();
}

function updateHUD(){
  if(player.hp<0) player.hp=0;
  if(enemy.hp<0) enemy.hp=0;
  document.getElementById('hud').innerText = `Player HP: ${player.hp} | Enemy HP: ${enemy.hp}`;
}

function gameLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  drawChar(player);
  drawChar(enemy);

  // Draw attack animations
  attackAnimations.forEach((a,i)=>{
    ctx.fillStyle = a.color;
    ctx.fillRect(a.x, a.y, a.size, a.size);
    a.life--;
    if(a.life<=0) attackAnimations.splice(i,1);
  });

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>

</body>
</html>
