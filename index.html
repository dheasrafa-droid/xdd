<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>One Piece Fan Game Dummy with Sprites</title>
<style>
  body { margin:0; overflow:hidden; background:#87CEEB; font-family:sans-serif; }
  #gameCanvas { background:#87CEEB; display:block; margin:0 auto; }
  .hud { position:absolute; top:10px; left:10px; color:white; font-weight:bold; }
</style>
</head>
<body>

<div class="hud" id="hud">Player HP: 100</div>
<canvas id="gameCanvas" width="800" height="400"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// Load images
const playerImg = new Image();
playerImg.src = 'https://i.ibb.co/0D0y7cq/player.png'; // contoh dummy sprite
const enemyImg1 = new Image();
enemyImg1.src = 'https://i.ibb.co/VH2k4Xj/enemy1.png';
const enemyImg2 = new Image();
enemyImg2.src = 'https://i.ibb.co/9r9d1tM/enemy2.png';

let player = { x:100, y:300, width:50, height:50, hp:100 };
let enemies = [
  { x:600, y:300, width:50, height:50, hp:50 },
  { x:700, y:300, width:50, height:50, hp:70 }
];

let keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function drawSprite(img, obj){
  ctx.drawImage(img, obj.x, obj.y, obj.width, obj.height);
}

function gameLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Player movement
  if(keys['ArrowLeft']) player.x -= 5;
  if(keys['ArrowRight']) player.x += 5;
  if(keys[' ']) attack();

  // Draw player
  drawSprite(playerImg, player);

  // Draw enemies & update
  enemies.forEach(enemy => {
    // Draw enemy sprite
    if(enemy.hp > 0){
      drawSprite(enemy === enemies[0] ? enemyImg1 : enemyImg2, enemy);
    }

    // Collision check for attack
    if(player.x + player.width > enemy.x && player.x < enemy.x + enemy.width){
      if(keys[' ']) enemy.hp -= 1;
      if(enemy.hp <= 0) enemy.hp = 0; // mark dead
    }
  });

  // Update HUD
  let hudText = `Player HP: ${player.hp} | `;
  enemies.forEach((e,i)=> hudText += `Enemy${i+1} HP: ${e.hp} | `);
  document.getElementById('hud').innerText = hudText;

  requestAnimationFrame(gameLoop);
}

function attack(){
  ctx.fillStyle='yellow';
  ctx.fillRect(player.x + player.width, player.y + player.height/4, 20, 10);
}

gameLoop();
</script>

</body>
</html>
